<div class="signup-container container">
    <h2>Sign Up</h2>
    <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
      
      <!-- First Name -->
      <div class="form-group mb-3">
        <label for="firstName">First Name:</label>
        <input type="text" id="firstName" class="form-control" formControlName="firstName" (blur)="onFieldChange()">
        <div class="text-danger">
          @if (f['firstName'].touched && f['firstName'].errors?.['required']) 
          {<small >First Name is required.</small>}
        </div>
      </div>
  
      <!-- Last Name -->
      <div class="form-group mb-3">
        <label for="lastName">Last Name:</label>
        <input type="text" id="lastName" class="form-control" formControlName="lastName" (blur)="onFieldChange()">
        <div class="text-danger">
          @if (f['lastName'].touched && f['lastName'].errors?.['required']) 
          {<small >Last Name is required.</small>}
        </div>
      </div>
  
      <!-- Email -->
      <div class="form-group mb-3">
        <label for="email">Email:</label>
        <input type="email" id="email" class="form-control" formControlName="email" (blur)="onFieldChange()">
        <div class="text-danger">
          @if (f['email'].touched && f['email'].errors?.['required']) 
          {<small>Email is required.</small>}
          @else if (f['email'].touched && f['email'].errors?.['email']) 
          {<small>Enter a valid email address.</small>}
        </div>
      </div>
  
      <!-- Password -->
      <div class="form-group mb-3">
        <label for="password">Password:</label>
        <input type="password" id="password" class="form-control" formControlName="password" (blur)="onFieldChange()">
        <div class="text-danger">
          @if (f['password'].touched && f['password'].errors?.['required']) 
          {<small>Password is required.</small>}
          @else if (f['password'].touched && f['password'].errors?.['minlength']) 
          {<small>Password must be at least 10 characters long.</small>}
          @else if (f['password'].touched &&f['password'].errors?.['pattern']) 
          {<small>Password must contain at least one uppercase letter, one number, and one special character.</small>}
        </div>
      </div>
  
      <!-- Phone Number -->
      <div class="form-group mb-3">
        <label for="phoneNumber">Phone Number:</label>
        <input type="tel" id="phoneNumber" class="form-control" formControlName="phoneNumber" (blur)="onFieldChange()">
        <div class="text-danger">
          @if (f['phoneNumber'].touched && f['phoneNumber'].errors?.['required']) 
          {<small>Phone Number is required.</small>}
          @else if (f['phoneNumber'].errors?.['pattern']) 
          {<small>Phone Number must be a valid 10-digit number.</small>}
        </div>
      </div>
  
      <!-- Address -->
      <div class="form-group mb-3">
        <label for="address">Address:</label>
        <input type="text" id="address" class="form-control" formControlName="address" (blur)="onFieldChange()">
        <div class="text-danger">
          @if (f['address'].touched && f['address'].errors?.['required']) 
          {<small>Address is required.</small>}
        </div>
      </div>

      <!-- Gender -->
    <div class="form-group mb-3">
        <label>Gender:</label>
        <div>
          <label>
            <input type="radio" formControlName="gender" value="Male"> Male
          </label>
          <label class="ms-3">
            <input type="radio" formControlName="gender" value="Female"> Female
          </label>
          <label class="ms-3">
            <input type="radio" formControlName="gender" value="Other"> Other
          </label>
        </div>
        <div class="text-danger">
          <small *ngIf="f['gender'].touched && f['gender'].errors?.['required']">Gender is required.</small>
        </div>
      </div>

      <!-- Date of Birth -->
    <div class="form-group mb-3">
        <label for="dob">Date of Birth:</label>
        <mat-form-field appearance="fill" class="w-100">
          <mat-label>Date of Birth</mat-label>
          <input matInput [matDatepicker]="picker" formControlName="dob" (blur)="onFieldChange()">
          <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
          <mat-datepicker #picker></mat-datepicker>
        </mat-form-field>
        <div class="text-danger">
          <small *ngIf="f['dob'].touched && f['dob'].errors?.['required']">Date of Birth is required.</small>
        </div>
      </div>

      <div class="form-group mb-3">
        <label for="fileInput">Profile Picture:</label>
        <input id="fileInput" type="file" (change)="onFileSelected($event)" />
      </div>
  
      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary w-100" [disabled]="signupForm.invalid">Sign Up</button>
      <p id="errorMessage" class="error-message text-danger" *ngIf="errorMessage">{{ errorMessage }}</p>
    </form>
  
    <p class="login-link mt-3">
      Already have an account? <a routerLink="/login" style="color: rgb(29, 86, 241);">Login</a>
    </p>
  
  </div>
  